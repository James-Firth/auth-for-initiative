(function(e){function t(t){for(var n,r,o=t[0],c=t[1],l=t[2],u=0,p=[];u<o.length;u++)r=o[u],s[r]&&p.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,r=1;r<a.length;r++){var o=a[r];0!==s[o]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={app:0},s={app:0},i=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-169d8cf3":"08a38975","chunk-2d0cf8b6":"3302bbba","chunk-2d216b64":"ded1c40f","chunk-a8faff24":"e95ae52c"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={"chunk-169d8cf3":1,"chunk-a8faff24":1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise(function(t,a){for(var n="css/"+({}[e]||e)+"."+{"chunk-169d8cf3":"8901d7cd","chunk-2d0cf8b6":"31d6cfe0","chunk-2d216b64":"31d6cfe0","chunk-a8faff24":"ebf4429f"}[e]+".css",r=c.p+n,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var o=s[i],l=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(l===n||l===r))return t()}var u=document.getElementsByTagName("style");for(i=0;i<u.length;i++){o=u[i],l=o.getAttribute("data-href");if(l===n||l===r)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||r,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.request=n,a(s)},p.href=r;var d=document.getElementsByTagName("head")[0];d.appendChild(p)}).then(function(){r[e]=0}));var n=s[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise(function(t,a){n=s[e]=[t,a]});t.push(n[2]=i);var l,u=document.getElementsByTagName("head")[0],p=document.createElement("script");p.charset="utf-8",p.timeout=120,c.nc&&p.setAttribute("nonce",c.nc),p.src=o(e),l=function(t){p.onerror=p.onload=null,clearTimeout(d);var a=s[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+n+": "+r+")");i.type=n,i.request=r,a[1](i)}s[e]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:p})},12e4);p.onerror=p.onload=l,u.appendChild(p)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var p=0;p<l.length;p++)t(l[p]);var d=u;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"1f7e":function(e,t,a){},3354:function(e,t,a){"use strict";var n=a("1f7e"),r=a.n(n);r.a},"4c5d":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("navbar"),a("router-view")],1)},s=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",{staticClass:"navbar",attrs:{role:"navigation","aria-label":"main navigation"}},[a("div",{staticClass:"navbar-brand"},[e._m(0),a("a",{staticClass:"navbar-burger burger",class:{"is-active":e.burgerOpen},attrs:{role:"button","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},on:{mousedown:function(t){e.burgerOpen=!e.burgerOpen}}},[a("span",{attrs:{"aria-hidden":"true"}}),a("span",{attrs:{"aria-hidden":"true"}}),a("span",{attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"navbar-menu",class:{"is-active":e.burgerOpen},attrs:{id:"navbarBasicExample"}},[a("div",{staticClass:"navbar-start"},[a("router-link",{staticClass:"navbar-item",attrs:{to:"/",exact:""}},[e._v("Authenticate")]),a("router-link",{staticClass:"navbar-item",attrs:{to:"/setup/campaigns"}},[e._v("Select Campaign")]),a("router-link",{staticClass:"navbar-item",attrs:{to:"/setup/participants"}},[e._v("Add Participants")]),a("router-link",{staticClass:"navbar-item",attrs:{to:"/Initiative"}},[e._v("Combat Initiative")])],1)])])},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{staticClass:"navbar-item",attrs:{href:"/"}},[a("span",{staticClass:"is-size-4"},[e._v("Auth for Initiative")])])}],c={name:"Navbar",data(){return{burgerOpen:!1}}},l=c,u=(a("fb72"),a("2877")),p=Object(u["a"])(l,i,o,!1,null,"f11f1f76",null);p.options.__file="Navbar.vue";var d=p.exports,v={name:"App",components:{Navbar:d},beforeMount(){const e=localStorage.getItem("kankaToken"),t="true"===localStorage.getItem("devServer");e&&this.$store.commit("setToken",e),this.$store.commit("useDevServer",t)}},f=v,m=(a("5c0b"),Object(u["a"])(f,r,s,!1,null,null,null));m.options.__file="App.vue";var h=m.exports,b=a("8a03"),g=a.n(b),k=(a("5abe"),a("8c4f")),_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"columns is-centered"},[a("div",{staticClass:"column is-narrow"},[a("div",{staticClass:"auth-wrapper"},[a("p",[e._v("Before using this app, please authenticate with Kanka.io!")]),a("br"),a("button",{staticClass:"button",attrs:{disabled:""},on:{mousedown:e.kankaOauth}},[e._m(0),a("span",[e._v("Authenticate via Kanka.io")])]),e._m(1),a("div",{staticClass:"is-divider",attrs:{"data-content":"OR"}}),a("div",{staticClass:"set-tokens-wrapper"},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[e._v("Personal Access Token")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.kanka_token,expression:"kanka_token"}],staticClass:"input",attrs:{type:"text"},domProps:{value:e.kanka_token},on:{input:function(t){t.target.composing||(e.kanka_token=t.target.value)}}})]),a("div",{staticClass:"control"},[a("button",{staticClass:"button is-primary",on:{click:e.setToken}},[e._v("Set Token")])])])]),a("br"),a("br"),a("b-switch",{on:{input:e.switchServerType},model:{value:e.devServer,callback:function(t){e.devServer=t},expression:"devServer"}},[e._v(e._s(e.devServer?"Using Dev Server":"Using Prod Server"))])],1)])])},C=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"icon is-small"},[a("img",{attrs:{src:"/img/kanka_logo.png"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("i",[e._v("Coming Soonâ„¢")])])}],S={name:"AuthPage",data(){return{rememberMe:!1,baseUrl:"https://kanka.io/oauth/authorize?",clientId:4,clientSecret:Object({VUE_APP_CLI_UI_URL:"",NODE_ENV:"production",BASE_URL:"/"}).CLIENT_SECRET,kanka_token:this.$store.state.kanka_token,redirectURI:Object({VUE_APP_CLI_UI_URL:"",NODE_ENV:"production",BASE_URL:"/"}).REDIRECT_URI||"http%3A%2F%2Flocalhost%3A8080%2Foauth%2Fcallback",responseType:"code"}},computed:{devServer(){return this.$store.state.devServer}},methods:{switchServerType(){this.$store.commit("useDevServer",!this.$store.state.devServer)},kankaOauth(){window.location.replace(`${this.baseUrl}client_id=${this.clientId}&client_secret=${this.clientSecret}&redirect_uri=${this.redirectURI}&response_type=${this.responseType}`)},setToken(){this.$store.commit("setToken",this.kanka_token),this.$router.push("/setup/campaigns")}}},w=S,y=(a("3354"),Object(u["a"])(w,_,C,!1,null,"2778bdb1",null));y.options.__file="Auth.vue";var E=y.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},T=[],A={name:"Setup"},P=A,$=Object(u["a"])(P,O,T,!1,null,null,null);$.options.__file="Setup.vue";var I=$.exports;n["default"].use(k["a"]);var j=new k["a"]({mode:"history",base:"/",routes:[{path:"/",name:"auth",component:E},{path:"/setup",name:"setup",component:I,children:[{name:"selectCampaign",path:"campaigns",component:()=>a.e("chunk-169d8cf3").then(a.bind(null,"3c82"))},{name:"selectParticipants",path:"participants",component:()=>a.e("chunk-2d216b64").then(a.bind(null,"c441"))}]},{path:"/initiative",name:"initiative",component:()=>a.e("chunk-a8faff24").then(a.bind(null,"a9e5"))},{path:"/oauth/callback",name:"oauthCallback",component:()=>a.e("chunk-2d0cf8b6").then(a.bind(null,"63be"))}]}),x=a("53fe"),N=a.n(x),U=a("2f62"),R=a("a7d2"),B=a.n(R);n["default"].use(U["a"]);var D=new U["a"].Store({state:{devServer:!1,kanka_token:"",campaign:null,all_campaigns:[],all_characters:[],combatParticipants:[]},mutations:{useDevServer(e,t){e.devServer=t,window.localStorage.setItem("devServer",t),t?B.a.useDevServer():B.a.setDomains({})},setToken(e,t){e.kanka_token=t,B.a.setToken(t),window.localStorage.setItem("kankaToken",t)},setCampaigns(e,t){e.all_campaigns=t},setSelectedCampaign(e,t){e.campaign=t},setAllCombatCharacters(e,t){e.combatParticipants=t}},actions:{async getCampaigns({state:e,commit:t}){console.log("get campaigns");const a=await B.a.listCampaigns();a&&a.data&&t("setCampaigns",a.data)}}}),L=a("9483");Object(L["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached(){console.log("Content has been cached for offline use.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),n["default"].config.productionTip=!1,n["default"].directive("sortable",{inserted:function(e,t){return new N.a(e,t.value||{})}}),n["default"].use(g.a,{defaultIconPack:"fas"}),new n["default"]({router:j,store:D,render:e=>e(h)}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var n=a("5e27"),r=a.n(n);r.a},"5e27":function(e,t,a){},fb72:function(e,t,a){"use strict";var n=a("4c5d"),r=a.n(n);r.a}});
//# sourceMappingURL=app.adfa7200.js.map